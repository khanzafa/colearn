{% extends 'base.html' %}

{% block title %}College Learning{% endblock %}
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
{% block content %}
<div class="container-fluid">
    <div class="row text-center">
        <div class="col">
            <div class="card bg-primary text-white">
                <div class="card-title">
                    <h1 class="mb-0">KUIS</h1>
                </div>            
            </div>                    
        </div>
    </div>
    <div class="row my-2">
        <!-- toolbar jenis kuis, sort by -->
        <div class="col my-2">
            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0">
                        <b>Filter</b>
                    </h5>
                </div>
                <div class="card-body pe-3">
                    <form action="{% url 'quizzes:kuis' %}" method="GET" class="d-flex flex-row justify-content-between">
                        <div class="mb-0 d-flex align-items-center">
                            <label for="jenisKuis" class="me-2">Jenis</label>
                            <select class="form-select" id="jenisKuis" name="jenisKuis">
                                <option value="kuisLatihan">Kuis Latihan</option>
                                <option value="kuisUjian">Kuis Ujian</option>
                                <option value="semuaKuis">Semua</option>
                            </select>
                        </div>
                        <div class="mb-0 d-flex align-items-center">
                            <label for="sort" class="form-label me-2">Urutan</label>
                            <select class="form-select" aria-label="Default select example" name="sort" id="sort">
                                <option value="newest">Terbaru</option>
                                <option value="oldest">Terlama</option>
                            </select>
                        </div>
                        <div class="mb-0 d-flex align-items-center">
                            <label for="status" class="form-label me-2">Status</label>
                            <select class="form-select" aria-label="Default select example" name="status" id="status">
                                <option value="all">Semua</option>
                                <option value="ongoing">Berlangsung</option>
                                <option value="finished">Selesai</option>
                            </select>
                        </div>
                        <div class="mb-0 d-flex align-items-center">
                            <button type="submit" class="btn btn-primary">Filter</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
      {% for quiz in quizzes %}
      <div class="col-md-4 my-2">
        <div class=card>
          <div class="card-header d-flex justify-content-center">
            <h5 class="mb-0">
              <b>{{ quiz.title }}</b>
            </h5>
          </div>
          <div class="card-body">            
            <table class="card-text">
              <tr>
                <th>Jumlah Soal</th>
                <td>:</td>
                <td>{{ quiz.questions_count }}</td>
              </tr> 
              <tr>
                <th>Durasi</th>
                <td>:</td>                
                <td>{{ quiz.duration }}</td>
              </tr>
              <tr>
                <th>Skor</th>
                <td>:</td>
                <td>{{ quiz.score }}</td>
              </tr>
            </table>
          </div>
          {% if quiz.score == '-' %}
          <a role="button" class="btn btn-primary" href="{% url 'quizzes:kuis-detail' quiz.course.id quiz.id %}">Kerjakan</a>
          </a>
          {% else %}          
          <button class="btn btn-secondary disabled">Selesai</button>
          {% endif %}
        </div>        
      </div>
      {% endfor %}
    </div>    
</div>

{% endblock %}

